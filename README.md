  # Telegram AI Assistant

Telegram-–±–æ—Ç —Å –ø–æ–¥–¥–µ—Ä–∂–∫–æ–π OpenAI GPT –∏ –Ω–µ—Å–∫–æ–ª—å–∫–∏–º–∏ —Ä–µ–∂–∏–º–∞–º–∏ —Ä–∞–±–æ—Ç—ã (–ø–æ–º–æ—â–Ω–∏–∫, —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫, –∞–Ω–∞–ª–∏—Ç–∏–∫)

–£—á–µ–±–Ω—ã–π Telegram-–±–æ—Ç –Ω–∞ aiogram 3 —Å –ø–æ–¥–¥–µ—Ä–∂–∫–æ–π LLM (OpenAI) –∏ –Ω–µ—Å–∫–æ–ª—å–∫–∏–º–∏ —Ä–µ–∂–∏–º–∞–º–∏ –æ—Ç–≤–µ—Ç–æ–≤. –ü—Ä–æ–µ–∫—Ç –¥–µ–º–æ–Ω—Å—Ç—Ä–∏—Ä—É–µ—Ç —Ä–∞–±–æ—Ç—É —Å –ø–∞–º—è—Ç—å—é –¥–∏–∞–ª–æ–≥–∞, –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ–º —Ä–æ–ª–µ–π –∏ —Ä–∞—Å—á—ë—Ç–æ–º —Å—Ç–æ–∏–º–æ—Å—Ç–∏ –∑–∞–ø—Ä–æ—Å–æ–≤.

## –°–∫—Ä–∏–Ω—à–æ—Ç

![Demo](docs/demo.png)

> –ü—Ä–∏–º–µ—Ä —Ä–∞–±–æ—Ç—ã: –≤—ã–±–æ—Ä —Ä–µ–∂–∏–º–∞ —á–µ—Ä–µ–∑ `/mode` –∏ –æ—Ç–≤–µ—Ç –≤ —Ä–µ–∂–∏–º–µ –∞–Ω–∞–ª–∏—Ç–∏–∫–∞

## –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏

- üë• **–¢—Ä–∏ —Ä–µ–∂–∏–º–∞ —Ä–∞–±–æ—Ç—ã:**
  - ü§ñ –û–±—ã—á–Ω—ã–π –ø–æ–º–æ—â–Ω–∏–∫ ‚Äî —É–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω—ã–µ –æ—Ç–≤–µ—Ç—ã
  - üíª –ü–æ–º–æ—â–Ω–∏–∫ —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–∞ ‚Äî –∫–æ–¥ —Å –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏—è–º–∏ –Ω–∞ —Ä—É—Å—Å–∫–æ–º
  - üìä –ê–Ω–∞–ª–∏—Ç–∏–∫ –¥–∞–Ω–Ω—ã—Ö ‚Äî —Å—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –æ—Ç–≤–µ—Ç—ã, —Å–ø–∏—Å–∫–∏, —Ç–∞–±–ª–∏—Ü—ã
- üß† –ö–æ—Ä–æ—Ç–∫–∞—è –ø–∞–º—è—Ç—å –Ω–∞ –ø–æ—Å–ª–µ–¥–Ω–∏–µ `N` —Å–æ–æ–±—â–µ–Ω–∏–π –¥–ª—è –∫–∞–∂–¥–æ–≥–æ —á–∞—Ç–∞
- üßÆ –û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ —Å—Ç–æ–∏–º–æ—Å—Ç–∏ –∑–∞–ø—Ä–æ—Å–∞ –≤ USD –∏ —Ä—É–±–ª—è—Ö (—á–µ—Ä–µ–∑ –∫—É—Ä—Å –¶–ë –†–§)
- ‚è± –ò–Ω–¥–∏–∫–∞—Ü–∏—è ¬´typing‚Ä¶¬ª –≤–æ –≤—Ä–µ–º—è –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏
- üîÑ –ö–æ–º–∞–Ω–¥–∞ `/reset` –¥–ª—è –æ—á–∏—Å—Ç–∫–∏ –ø–∞–º—è—Ç–∏
- üìä –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –∫–ª—é—á–µ–≤—ã—Ö —Å–æ–±—ã—Ç–∏–π

## –¢–µ—Ö–Ω–æ–ª–æ–≥–∏–∏

- Python 3.12
- aiogram 3.13
- OpenAI API (`AsyncOpenAI`)
- `pydantic-settings`, `python-dotenv`
- `aiohttp`, `httpx`

## –£—Å—Ç–∞–Ω–æ–≤–∫–∞

```bash
git clone https://github.com/<username>/telegram-ai-assistant.git
cd telegram-ai-assistant
python -m venv .venv
source .venv/bin/activate  # Windows: .venv\Scripts\activate
pip install -r requirements.txt
```

## –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è

–°–æ–∑–¥–∞–π—Ç–µ —Ñ–∞–π–ª `.env` (—Å–º. `.env.example`):

```bash
BOT_TOKEN=your_bot_token
OPENAI_API_KEY=your_openai_api_key
OPENAI_MODEL=gpt-4o-mini
MAX_HISTORY_MESSAGES=10
```

### –ö–∞–∫ –ø–æ–ª—É—á–∏—Ç—å —Ç–æ–∫–µ–Ω—ã:

| –ü–∞—Ä–∞–º–µ—Ç—Ä | –ì–¥–µ –≤–∑—è—Ç—å |
|----------|-----------|
| `BOT_TOKEN` | [@BotFather](https://t.me/BotFather) ‚Üí `/newbot` |
| `OPENAI_API_KEY` | [platform.openai.com](https://platform.openai.com/api-keys) |

## –ó–∞–ø—É—Å–∫

```bash
source .venv/bin/activate
python main.py
```

## –ö–æ–º–∞–Ω–¥—ã –±–æ—Ç–∞

- `/start` ‚Äî –ø—Ä–∏–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ –∏ —Ç–µ–∫—É—â–∏–π —Ä–µ–∂–∏–º
- `/mode` ‚Äî –≤—ã–±–æ—Ä —Ä–æ–ª–∏ —á–µ—Ä–µ–∑ inline-–∫–Ω–æ–ø–∫–∏
- `/reset` ‚Äî –æ—á–∏—Å—Ç–∫–∞ –∏—Å—Ç–æ—Ä–∏–∏ —á–∞—Ç–∞
- –¢–µ–∫—Å—Ç–æ–≤—ã–µ —Å–æ–æ–±—â–µ–Ω–∏—è ‚Äî –æ—Ç–ø—Ä–∞–≤–ª—è—é—Ç—Å—è –≤ OpenAI —Å —É—á—ë—Ç–æ–º –≤—ã–±—Ä–∞–Ω–Ω–æ–≥–æ —Ä–µ–∂–∏–º–∞ –∏ –ø–∞–º—è—Ç–∏

## –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

```
.
‚îú‚îÄ‚îÄ main.py
‚îú‚îÄ‚îÄ config.py
‚îú‚îÄ‚îÄ llm_service.py
‚îú‚îÄ‚îÄ memory.py
‚îú‚îÄ‚îÄ prompts.json
‚îú‚îÄ‚îÄ requirements.txt
‚îú‚îÄ‚îÄ .env.example
‚îú‚îÄ‚îÄ README.md
‚îî‚îÄ‚îÄ human-readme.md / genai-readme.md
```

## Roadmap

- [ ] –î–æ–±–∞–≤–∏—Ç—å —Ä–µ–∂–∏–º –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π (DALL-E / Stable Diffusion)
- [ ] –í–µ—Å—Ç–∏ –ø–æ–¥—Å—á—ë—Ç —Å—Ç–æ–∏–º–æ—Å—Ç–∏ –≤ –∏—Å—Ç–æ—Ä–∏–∏ —á–∞—Ç–∞
- [ ] –ù–∞–ø–∏—Å–∞—Ç—å –∞–≤—Ç–æ-—Ç–µ—Å—Ç—ã –¥–ª—è MemoryManager –∏ LLMService

## Troubleshooting

| –û—à–∏–±–∫–∞ | –†–µ—à–µ–Ω–∏–µ |
|--------|---------|
| `401 Unauthorized` | –ü—Ä–æ–≤–µ—Ä—å—Ç–µ `OPENAI_API_KEY` –≤ `.env` |
| `Bad Request: chat not found` | –ó–∞–ø—É—Å—Ç–∏—Ç–µ –±–æ—Ç–∞ –≤ –ª–∏—á–Ω—ã—Ö —Å–æ–æ–±—â–µ–Ω–∏—è—Ö |
| `Cannot parse response` | –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –¥–æ—Å—Ç—É–ø –∫ –¶–ë –†–§ (`get_usd_rate`) |

## –õ–∏—Ü–µ–Ω–∑–∏—è

–ü—Ä–æ–µ–∫—Ç —Ä–∞—Å–ø—Ä–æ—Å—Ç—Ä–∞–Ω—è–µ—Ç—Å—è –ø–æ –ª–∏—Ü–µ–Ω–∑–∏–∏ MIT (—Å–º. `LICENSE`).

## –ö–æ–Ω—Ç–∞–∫—Ç—ã

–ê–≤—Ç–æ—Ä: Georgy Belyanin  
Email: georgy.belyanin@gmail.com  
Telegram: [@GBDialogFlowRU_bot](https://t.me/GBDialogFlowRU_bot)

python aiogram telegram-bot openai gpt chatgpt llm